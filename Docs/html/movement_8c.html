<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>CprE 288 Final Project: FinalProj/movement.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CprE 288 Final Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('movement_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">movement.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;avr/io.h&gt;</code><br />
<code>#include &quot;<a class="el" href="open__interface_8h_source.html">lib/open_interface.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="movement_8h_source.html">movement.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="lcd_8h_source.html">lib/lcd.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="bluetooth_8h_source.html">bluetooth.h</a>&quot;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:afad892be11cb826953bdd27323e678db"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="movement_8c.html#afad892be11cb826953bdd27323e678db">rotate_deg</a> (int deg, <a class="el" href="structoi__t.html">oi_t</a> *<a class="el" href="_final_proj_8c.html#af6a01788aeb90b568a250367fb806cc6">sensor_data</a>)</td></tr>
<tr class="memdesc:afad892be11cb826953bdd27323e678db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rotates the given number of degrees.  <a href="#afad892be11cb826953bdd27323e678db">More...</a><br /></td></tr>
<tr class="separator:afad892be11cb826953bdd27323e678db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6aae3a1eb89ad78f330e87659ab30778"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="movement_8c.html#a6aae3a1eb89ad78f330e87659ab30778">move_result</a> (int units, <a class="el" href="structoi__t.html">oi_t</a> *<a class="el" href="_final_proj_8c.html#af6a01788aeb90b568a250367fb806cc6">sensor_data</a>, char ignore_cliffbump, char ignore_color, <a class="el" href="movement_8h.html#a2cdcb5d6bd7694768a4a8978aaf40640">stop_reason</a> *reason)</td></tr>
<tr class="separator:a6aae3a1eb89ad78f330e87659ab30778"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63e5e752079c2ca851c54436e9b40ee4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="movement_8c.html#a63e5e752079c2ca851c54436e9b40ee4">read_bumps</a> (<a class="el" href="structoi__t.html">oi_t</a> *<a class="el" href="_final_proj_8c.html#af6a01788aeb90b568a250367fb806cc6">sensor_data</a>, <a class="el" href="movement_8h.html#a2cdcb5d6bd7694768a4a8978aaf40640">stop_reason</a> *reason)</td></tr>
<tr class="memdesc:a63e5e752079c2ca851c54436e9b40ee4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the bumper sensors and backs up the robot.  <a href="#a63e5e752079c2ca851c54436e9b40ee4">More...</a><br /></td></tr>
<tr class="separator:a63e5e752079c2ca851c54436e9b40ee4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72d1a30364b2bd2debd1cf9d2d8c7a6b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="movement_8c.html#a72d1a30364b2bd2debd1cf9d2d8c7a6b">read_cliffs</a> (<a class="el" href="structoi__t.html">oi_t</a> *<a class="el" href="_final_proj_8c.html#af6a01788aeb90b568a250367fb806cc6">sensor_data</a>, <a class="el" href="movement_8h.html#a2cdcb5d6bd7694768a4a8978aaf40640">stop_reason</a> *reason)</td></tr>
<tr class="memdesc:a72d1a30364b2bd2debd1cf9d2d8c7a6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the register values for the cliff sensors and backs up the robot if cliff.  <a href="#a72d1a30364b2bd2debd1cf9d2d8c7a6b">More...</a><br /></td></tr>
<tr class="separator:a72d1a30364b2bd2debd1cf9d2d8c7a6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3245d5f665a98013300e57ebcb30ead9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="movement_8c.html#a3245d5f665a98013300e57ebcb30ead9">read_cliff_signals</a> (<a class="el" href="structoi__t.html">oi_t</a> *<a class="el" href="_final_proj_8c.html#af6a01788aeb90b568a250367fb806cc6">sensor_data</a>)</td></tr>
<tr class="memdesc:a3245d5f665a98013300e57ebcb30ead9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the ground color. If abnormal, backs up.  <a href="#a3245d5f665a98013300e57ebcb30ead9">More...</a><br /></td></tr>
<tr class="separator:a3245d5f665a98013300e57ebcb30ead9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a6bfffd5c65d52a44e59f2426a031ef2c"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="movement_8c.html#a6bfffd5c65d52a44e59f2426a031ef2c">stop_reason_descrip</a> [] = {&quot;LeftBump&quot;, &quot;RightBump&quot;, &quot;CliffLeft&quot;, &quot;CliffRight&quot;, &quot;Color&quot;, &quot;None&quot;}</td></tr>
<tr class="separator:a6bfffd5c65d52a44e59f2426a031ef2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a6aae3a1eb89ad78f330e87659ab30778"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int move_result </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>units</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structoi__t.html">oi_t</a> *&#160;</td>
          <td class="paramname"><em>sensor_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>ignore_cliffbump</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>ignore_color</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="movement_8h.html#a2cdcb5d6bd7694768a4a8978aaf40640">stop_reason</a> *&#160;</td>
          <td class="paramname"><em>reason</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Moves the robot forward or backward the given number of units and tracks the number of units that the robot has moved. The units may need to be in time. 200 speed will probably not knock over any obstacles, so it will be the default. It will also optionally scan for color and the cliff/bump sensor can be turned off. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">units</td><td>distance in mm for the roboto to move </td></tr>
    <tr><td class="paramname">sensor_data</td><td>the <a class="el" href="structoi__t.html" title="iRobot Create Sensor Data ">oi_t</a> struct containing all the robots data </td></tr>
    <tr><td class="paramname">ignore_cliffbump</td><td>1 to ignore, 0 else </td></tr>
    <tr><td class="paramname">ignore_color</td><td>1 to ignore, 0 else </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a63e5e752079c2ca851c54436e9b40ee4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int read_bumps </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structoi__t.html">oi_t</a> *&#160;</td>
          <td class="paramname"><em>sensor_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="movement_8h.html#a2cdcb5d6bd7694768a4a8978aaf40640">stop_reason</a> *&#160;</td>
          <td class="paramname"><em>reason</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the bumper sensors and backs up the robot. </p>
<p>If something has been bumped into, the robot will stop and back up a little. When the robot is backing up, the robot will not look for color, bumps or cliffs. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sensor_data</td><td>the <a class="el" href="structoi__t.html" title="iRobot Create Sensor Data ">oi_t</a> struct containing all the robots data </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3245d5f665a98013300e57ebcb30ead9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int read_cliff_signals </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structoi__t.html">oi_t</a> *&#160;</td>
          <td class="paramname"><em>sensor_data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the ground color. If abnormal, backs up. </p>
<p>When a color is sensed in the cliff signals, and the value is greater than 500, the robot stops and backs up, ignoring color and cliffs and bumps. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sensor_data</td><td>the <a class="el" href="structoi__t.html" title="iRobot Create Sensor Data ">oi_t</a> struct containing all the robots data </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a72d1a30364b2bd2debd1cf9d2d8c7a6b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int read_cliffs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structoi__t.html">oi_t</a> *&#160;</td>
          <td class="paramname"><em>sensor_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="movement_8h.html#a2cdcb5d6bd7694768a4a8978aaf40640">stop_reason</a> *&#160;</td>
          <td class="paramname"><em>reason</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the register values for the cliff sensors and backs up the robot if cliff. </p>
<p>When a cliff is sensed to the front right/left or the right/left, the robot will stop and back up a little. When the robot is backing up, the robot will not look for color, bumps or cliffs. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sensor_data</td><td>the <a class="el" href="structoi__t.html" title="iRobot Create Sensor Data ">oi_t</a> struct containing all the robots data </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="afad892be11cb826953bdd27323e678db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rotate_deg </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>deg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structoi__t.html">oi_t</a> *&#160;</td>
          <td class="paramname"><em>sensor_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rotates the given number of degrees. </p>
<p>Takes in an int specifying an angle in degrees and the robot will turn that many degrees. Positive angles are counter clockwise; negative angles are clockwise. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">deg</td><td>angle in degrees for the roboto to rotate </td></tr>
    <tr><td class="paramname">sensor_data</td><td>the <a class="el" href="structoi__t.html" title="iRobot Create Sensor Data ">oi_t</a> struct containing all the robots data </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a6bfffd5c65d52a44e59f2426a031ef2c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* stop_reason_descrip[] = {&quot;LeftBump&quot;, &quot;RightBump&quot;, &quot;CliffLeft&quot;, &quot;CliffRight&quot;, &quot;Color&quot;, &quot;None&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_fbfbdaf5c1e0dfd04e2db9fd224cca73.html">FinalProj</a></li><li class="navelem"><a class="el" href="movement_8c.html">movement.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
